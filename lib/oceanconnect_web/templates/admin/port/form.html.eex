<%= form_for @changeset, @action, fn f -> %>
  <%= if @changeset.action do %>
    <div class="alert is-danger">
      <p>Oops, something went wrong! Please check the errors below.</p>
    </div>
  <% end %>
  <div class="columns">
    <div class="column is-one-third">
      <div class="field" >
        <%= label f, :name, class: "label" %>
    		<div class="control">
    			<%= text_input f, :name, class: "input qa-admin-port-name" %>
    			<%= error_tag f, :name %>
    		</div>
      </div>

      <div class="field" >
        <%= label f, :country, class: "label" %>
    		<div class="control">
    			<%= text_input f, :country, class: "input qa-admin-port-country" %>
    			<%= error_tag f, :country %>
    		</div>
      </div>


      <div class="invite-selector__container qa-admin-port-companies">
        <%= label f, :companies, class: "label" do %>
          Companies
        <% end %>
        <%= for company <- @companies do %>
          <div class="invite-selector">
            <label class="invite-selector__checkbox">
              <%= checkbox f, :company, class: "qa-admin-port-companies-#{company.id}", name: "port[companies][#{company.id}]", checked: OceanconnectWeb.Admin.PortView.port_has_company?(@port, company) %>
              <span class="invite-selector__facade"><i class="fas <%= OceanconnectWeb.Admin.PortView.port_has_company?(@port, company) && 'fa-check' || 'fa-plus'%> default-only"></i><i class="fas fa-minus hover-only"></i></span>
              <span class="invite-selector__label"><%= company.name %></span>
            </label>
          </div>
        <% end %>
      </div>

    	<div class="field has-margin-top-lg">
    		<div class="control">
    			<%= submit "Submit", class: "button is-primary qa-admin-submit" %>
    		</div>
    	</div>
    </div>
  </div>
<% end %>
