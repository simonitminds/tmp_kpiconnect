<div class="auction-app">
	<div class="admin-panel__header container">
		<div class="content is-clearfix">
			<h1 class="title is-3 has-margin-top-xl has-margin-bottom-xl">Admin Panel</h1>
		</div>
	</div>
	<div class="admin-panel__body container">
		<div class="content columns">
			<%= render OceanconnectWeb.Admin.SharedView, "menu.html", conn: @conn %>
			<section class="admin-panel__content column is-three-quarters">
				<h2 class="admin-panel__content__header"><span class="is-4 is-inline-block">Barges</span>
				<%= link to: admin_barge_path(@conn, :new), class: "button is-link is-inline-block has-margin-left-auto" do %>
					<i class="fas fa-plus is-inline-block has-margin-right-sm"></i> Add Barge
				<% end %>
				</h2>
				<table class="admin-panel__table">
					<thead>
						<tr>
							<th>Name</th>
							<th>IMO Number</th>

							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						<%= for barge <- @barges do %>
							<tr class="qa-admin-barge-<%= barge.id %>">
								<td class="qa-admin-barge-name"><%= barge.name %></td>
								<td class="qa-admin-barge-imo_number"><%= barge.imo_number %></td>
								<td class="text-right">
									<%= link "Edit", to: admin_barge_path(@conn, :edit, barge), class: "button is-small is-primary is-inline-block  has-margin-bottom-xs" %>
									<%= if barge.is_active do %>
                    <%= link "Deactivate", to: admin_barge_path(@conn, :deactivate, barge), method: :post, class: "button is-small is-danger is-inline-block has-margin-bottom-xs qa-admin-barge-deactivate" %>
									<% else %>
                    <%= link "Activate", to: admin_barge_path(@conn, :activate, barge), method: :post, class: "button is-small is-success is-inline-block has-margin-bottom-xs qa-admin-barge-deactivate" %>
									<% end %>
								</td>
							</tr>
						<% end %>
					</tbody>
				</table>
				<div class="is-flex">
					<div class="has-margin-left-auto">
						<%= if @page_number > 1 do %>
							<%= link to: admin_barge_path(@conn, :index, page: @page_number - 1), class: "button is-inline-block" do %>
								<i class="fas fa-chevron-left is-inline-block has-margin-right-sm"></i> Previous Page
							<% end %>
						<% end %>
						<%= if @page_number < @total_pages do %>
							<%= link to: admin_barge_path(@conn, :index, page: @page_number + 1), class: "button is-inline-block" do %>
								Next Page <i class="fas fa-chevron-right is-inline-block has-margin-left-sm"></i>
							<% end %>
						<% end %>
					</div>
				</div>
			</section>
		</div>
	</div>
</div>
